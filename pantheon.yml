# Pantheon Configuration for Next.js Cache Handler Test App
#
# This file configures the Pantheon platform for the Next.js test application.
# See: https://docs.pantheon.io/pantheon-yml

api_version: 1

# Node.js runtime
build_step: true
nodejs:
  version: 20

# Environment-specific configuration
environments:
  # Development environment
  dev:
    # Use file-based cache handler (no GCS)
    protected_web_paths:
      - /.next/cache/

  # Test environment
  test:
    # Use GCS cache handler
    # Requires CACHE_BUCKET environment variable

  # Live (production) environment
  live:
    # Use GCS cache handler
    # Requires CACHE_BUCKET environment variable
    # Requires OUTBOUND_PROXY_ENDPOINT for edge cache (optional)

# Quicksilver scripts (optional - for future automation)
# workflows:
#   deploy:
#     after:
#       - type: webphp
#         description: Clear Next.js cache after deployment
#         script: private/scripts/clear-cache.php
